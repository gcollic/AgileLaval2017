<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8">

    <title>reveal.js - The HTML Presentation Framework</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/beige.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="plugin/title-footer/title-footer.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <style>
        cite {
            font-style: italic;
        }
        .reveal ul > li > ul > li {
            font-size: 0.5em !important;
        }
    </style>
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">

        <section class="center">
            <h1>Mon équipe se focalise sur <br/> la <b>valeur métier</b> <br/> ... grâce au <b>code</b></h1>
            <br/>
            <p>
                <a href="http://www.twitter.com/hrambelo">@hrambelo</a> -
                <a href="http://www.twitter.com/gcollic">@gcollic</a>
            </p>
        </section>
        <section class="center">
            <h1>Il était une fois</h1>
            <h2>Une équipe réalisant du logiciel</h2>
            <h2>Qui voulait livrer de la <b>valeur métier</b></h2>
            <h2>aussi <b>fréquemment</b> que possible</h2>
        </section>
        <section class="center">
            <h1>&lt; nous /&gt;</h1>
            <img src="img/atr17/avatarGCollic.png" />
            <img src="img/atr17/avatar.png" />
        </section>
        <section class="center">
            <h1>Chapitre 0</h1>
            <h2>Le roi est mort</h2>
        </section>
        <section>
            <h1>Cycle en V avant 1995 ...</h1>
            <ul>
                <li>Livraisons tous les ~ 2 ans</li>
                <li>Avec + ou - de succès</li>
            </ul>
            <div class="clear" />
            <img class="stretch" src="img/atr17/princebelair.jpg">
        </section>
        <section>
            <h1>Problème ...</h1>
            <ul>
                <li>Innovation
                    <ul>
                        <li>Incertitudes métiers</li>
                        <li>Incertitudes techniques</li>
                    </ul>
                </li>
                <li>Marché évoluant de + en + vite
                    <ul>
                        <li>Obsolescence des besoins initiaux</li>
                    </ul>
                </li>
            </ul>
        </section>
        <section>
            <h1>... Solution</h1>
            <h2>XP ou Scrum à la rescousse</h2>
            <ul>
                <li>Découpage des besoins
                    <ul>
                        <li>En usage métiers indépendants</li>
                    </ul>
                </li>
                <li>Livraisons fréquentes
                    <ul>
                        <li>Validation continue</li>
                        <li>Repriorisation continue</li>
                    </ul>
                </li>
            </ul>
        </section>
        <section class="center">
            <h1>… mais ce ne fût pas si facile de détroner le roi</h1>
            <img class="stretch" src="img/atr17/dethrone.jpg">
        </section>
        <section class="center">
            <h1>Chapitre I</h1>
            <h2>livrer plus fréquemment, c’est pas si facile</h2>
        </section>
        <section>
            <h1>Recette</h1>
            <ul>
                <li>Comment faire une recette d’un mois…</li>
                <li>…toutes les 2 semaines</li>
            </ul>
        </section>
        <section>
            <h1>Automatisation des tests !</h1>
            <ul>
                <li>Gain de temps</li>
                <li>Reproductible</li>
            </ul>
        </section>
        <section>
            <h1>Livraisons fiables</h1>
            <ul>
                <li>Comment livrer toutes les 2 semaines…</li>
                <li>…fiablement</li>
            </ul>
        </section>
        <section>
            <h1>Exemple</h1>
            <ul>
                <li>Bertrand met en production le projet</li>
                <li><img class="stretch" src="img/atr17/publish.png"></li>
                <li>Tout fonctionne</li>
                <li>Puis Léa met en production</li>
                <li>Ça ne marche plus !</li>
                <li>Oubli de mise en commun par bertrand.</li>
            </ul>
        </section>
        <section>
            <h1>Solution 2 (XP)</h1>
            <h2>Industrialisation</h2>
            <ul>
                <li>Gestion de source</li>
                <li>Automatisation du build</li>
                <li>Automatisation packaging du produit</li>
                <li>Intégration continue</li>
            </ul>
        </section>
        <section>
            <h1>Bénéfices</h1>
            <ul>
                <li>Gain de temps</li>
                <li>Reproductible, avec fiabilité</li>
            </ul>
        </section>
        <section class="center">
            <h1>1995 : Youpi !</h1>
            <ul>
                <li>Livraison de valeur métier
                <ul><li>Passe de 2 ans à 2 semaines !</li></ul>
                </li>
            </ul>
        </section>
        <section class="center">
            <h1>Chapitre II</h1>
            <h2>Un nouveau roi, de nouveaux problèmes</h2>
        </section>
        <section class="center">
            <h1>Livrer à la fin de chaque itération</h1>
            <ul>
                <li>Tout ce qui marche</li>
                <li>Rien que ce qui marche</li>
            </ul>
        </section>
        <section>
            <h1>Cohérence du livrable ?</h1>
            <ul>
                <li>Plusieurs fonctionnalités en parrallèles</li>
                <li>Touchant toute à la BDD</li>
                <li>Certaines ne sont pas validées en fin d’itération</li>
                <li>Comment livrer l’intégralité de ce qui est prêt sans être géné par le reste ?</li>
            </ul>
        </section>
        <section>
            <h1>Regrouper !</h1>
            <ul>
                <li>Branche technique pour chaque fonctionnalité métier</li>
                <li>Inclure avec le code tout ce qui est nécessaire à son bon fonctionnement
                    <ul>
                        <li>Scripts d’évolution de base de donnée à côté du code</li>
                        <li>On prend tout ou rien, c’est
                        cohérent</li>
                        <li>Exemples : Scripts manuels, migrations géré par les ORMs, Liquibase/Dacpac/etc</li>
                    </ul>
                </li>
            </ul>
        </section>
        <section>
            <h1>Bénéfices</h1>
            <ul>
                <li>Meilleure interaction dev/ops
                    <ul><li>Les ops sont sûr de mettre en production la bonne base avec le bon code</li></ul>
                </li>
                <li>Cohérent</li>
                <li>Reproductible</li>
            </ul>
        </section>
        <section class="center">
            <h1>Chapitre III</h1>
            <h2>Remise en question du nouveau roi</h2>
        </section>
        <section>
            <h1>2 semaines ?</h1>
            <ul>
                <li>Anomalie urgente en production</li>
                <li>Fonctionnalité validée en cours d'itération</li>
                <li><i>Pourquoi attendre 2 semaines ???</i></li>
                <li>Spotify, GAFA, NATU, ...</li>
            </ul>
        </section>
        <section>
            <h1>Solutions</h1>
            <ul>
                <li>Métier
                    <ul><li>Kanban</li></ul>
                </li>
                <li>Technique
                    <ul><li>?</li></ul>
                </li>
            </ul>
        </section>
        <section>
            <h1>Enjeu</h1>
            <ul>
                <li>Reproduire
                    <ul>
                        <li>Le succès 2 ans -&gt; 2 semaines</li>
                        <li>En succès 2 semaines -&gt; 2 heures</li>
                    </ul>
                </li>
            </ul>
            <img src="img/atr17/belAirvsNow.jpg" class="stretch">
        </section>

        <section>
            <h1>Environnement de développement différent de la production</h1>
            <ul>
                <li>Quelles dépendances installées ?</li>
                <li>Dans quelles versions ?</li>
                <li>etc</li>
                <li>1 semaine pour mettre un environnement d’équerre</li>
            </ul>
        </section>
        <section>
            <h1>Infrastructure As Code !</h1>
            <h2>Outils de provisionning</h2>
            <ul>
                <li>Vulgarisation du principe</li>
                <li>Exemple Puppet ?</li>
                <li>Mettre avec le code tout ce qui est nécessaire à son bon fonctionnement</li>
                <li>Présent avec le code dans la branche de gestion de version</li>
            </ul>
            <img src="img/atr17/belAirvsNow.jpg" class="stretch">
        </section>
        <section>
            <h1>Bénéfices</h1>
            <ul>
                <li>Auditable</li>
                <li>Meilleure interaction dev/ops</li>
                <li>Cohérent</li>
                <li>Reproductible</li>
            </ul>
            <br/>
            <br/>
            <ul>
                <li>Youpi : 2005 : 2 semaines -&gt; 2 heures</li>
            </ul>
        </section>
        <section class="center">
            <h1>Fan In : 25 min</h1>
        </section>
        <section>
            <h1>TDD</h1>
            <img class="stretch" src="img/tdd-simple.svg">
            <p><cite>From Growing Object-Oriented Software by Nat Pryce and Steve Freeman.</cite></p>
        </section>
        <section>
            <h1>ATDD</h1>
            <img class="stretch" src="img/tdd-with-acceptance-tests.svg">
            <p><cite>From Growing Object-Oriented Software by Nat Pryce and Steve Freeman.</cite></p>
        </section>
        <section>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1>Feedback</h1>
        </section>
        <section>
            <img class="stretch" src="img/feedbackloop.png">
        </section>
       <section>
          <h1>Intégration Continue</h1>
          <img class="stretch" src="img/successful-pipeline-OK.png">
       </section>
        <section>
           <h1>Intégration Continue</h1>
            <img class="stretch" src="img/failed-pipeline-KO.png">
        </section>
        <section>
           <h1>Intégration Continue</h1>
            <img class="stretch" src="img/successful-pipeline-OK.png">
        </section>
        <section>
            <h1>Le test automatique</h1>
            <ul>
                <li>Ne coûte pas plus cher à être exécuté plus souvent</li>
                <li>Communique et documente comment les choses fonctionnent</li>
                <li>Correspond vraiment à ce qui est fait (obsolescence de l'écrit)</li>
                <li>Est plus déterministe qu'un humain</li>
                <li>Est versionnable !</li>
            </ul>
        </section>
        <section>
            <h1>Le build automatique</h1>
            <ul>
                <li>Ne coûte pas plus cher à être exécuté plus souvent</li>
                <li>Communique et documente comment les choses fonctionnent</li>
                <li>Correspond vraiment à ce qui est fait (obsolescence de l'écrit)</li>
                <li>Est plus déterministe qu'un humain</li>
                <li>Est versionnable !</li>
            </ul>
        </section>
        <section>
            <h1><em>Le code !</em></h1>
            <ul>
                <li>Ne coûte pas plus cher à être exécuté plus souvent</li>
                <li>Communique et documente comment les choses fonctionnent</li>
                <li>Correspond vraiment à ce qui est fait (obsolescence de l'écrit)</li>
                <li>Est plus déterministe qu'un humain</li>
                <li>Est versionnable !</li>
            </ul>
        </section>
        <section>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1><em>"As Code"</em> <br/> eats the World</h1>
        </section>
        <section>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <ul>
                <li>Specification As Code (BDD/ATDD)</li>
                <li>Documentation As Code</li>
                <li>Build Pipeline As Code</li>
                <li>Infrastructure As Code</li>
                <li>...</li>
            </ul>
        </section>
        <section>
            <h1>Biz Dev Ops (*)</h1>
            <img class="stretch" src="img/testNotPhase.png">
            <p><cite>* From yesterday's #devopsnight</cite></p>
        </section>
        <section>
            <h1>ALL THE THINGS As Code</h1>
            <img class="stretch" src="img/allthethings.jpg">
        </section>
        <section>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1>Specification As Code</h1>
        </section>
        <section>
            <img class="stretch" src="img/specs.png">
            <p><cite>From Specification By Example by Gojko Adzic.</cite></p>
        </section>
        <section  data-background="img/gherkin.png">
        </section>
        <section>
            <h1>Documentation as code</h1>
            <ul>
                <li>Living Documentation</li>
                <li>Markdown</li>
                <li>Asciidoc</li>
                <li>Swagger</li>
            </ul>
        </section>
        <section>
            <h1>Living Documentation</h1>
            <img class="stretch" src="img/glossary.jpg" />
            <p><cite>From <a href="https://leanpub.com/livingdocumentation">https://leanpub.com/livingdocumentation</a> by Cyrille Martraire</cite></p>
        </section>
        <section>
            <h1>Living Documentation</h1>
            <img class="stretch" src="img/diagram.jpg" />
            <p><cite>From <a href="https://leanpub.com/livingdocumentation">https://leanpub.com/livingdocumentation</a> by Cyrille Martraire</cite></p>
        </section>
        <section>
            <h1>Markdown</h1>
            <img class="stretch" src="img/markdown-preview.png" alt="Markdown example" />
            <p><cite>From https://mastercaweb.u-strasbg.fr/rediger-web-markdown/</cite></p>
        </section>
        <section>
            <h1>Asciidoc</h1>
            <img src="img/asciidoc-Big.png">
        </section>
        <section>
            <h1>Swagger</h1>
            <img src="img/swagger-ui-screenshot.png" />
        </section>
        <section>
           <h1>Build pipeline As Code</h1>
            <img class="stretch" src="img/successful-pipeline-OK.png">
        </section>
        <section>
            <h1>Infrastructure as code</h1>
            <ul>
                <li>Puppet recipe</li>
                <li>Playbook ansible</li>
                <li>Dockerfile</li>
                <li>Docker compose file</li>
            </ul>
        </section>
        <section>
            <h1>Puppet</h1>
            <pre class="stretch"><code data-trim>
package { 'ssh' :
    ensure => latest
}

file { 'sshd_config' :
    path    => '/etc/ssh/sshd_config',
    owner   => root,
    group   => root,
    require => Package[ssh],
    notify  => Service[ssh],
    ...
}

service { 'ssh' :
    ensure => running
}
            </code></pre>
            <p><cite>From https://github.com/aestasit.</cite></p>
        </section>
        <section>
            <h1>Puppet</h1>
            <pre class="stretch"><code data-trim data-noescape>
package { 'ssh' :
    ensure => latest
}

file { 'sshd_config' :
    path    => '/etc/ssh/sshd_config',
    owner   => root,
    group   => root,
    require => Package[ssh],
    <mark>notify  => Service[ssh]</mark>,
    ...
}

service { 'ssh' :
    ensure => running
}
            </code></pre>
            <p><cite>From https://github.com/aestasit.</cite></p>
        </section>
        <section>
            <h1>Playbook ansible</h1>
            <pre class="stretch"><code>
---
- hosts: webservers
  vars:
    http_port: 80
    max_clients: 200
  remote_user: root
  tasks:
  - name: ensure apache is at the latest version
    yum: name=httpd state=latest
  - name: write the apache config file
    template: src=/srv/httpd.j2 dest=/etc/httpd.conf
    notify:
    - restart apache
  - name: ensure apache is running (and enable it at boot)
    service: name=httpd state=started enabled=yes
  handlers:
    - name: restart apache
      service: name=httpd state=restarted
            </code></pre>
        </section>
        <section>
            <h1>Playbook ansible</h1>
            <pre class="stretch"><code data-noescape>
---
- hosts: webservers
  vars:
    http_port: 80
    max_clients: 200
  remote_user: root
  tasks:
  - name: ensure apache is at the latest version
    yum: name=httpd state=latest
  - name: write the apache config file
    template: src=/srv/httpd.j2 dest=/etc/httpd.conf
    <mark>notify:
    - restart apache</mark>
  - name: ensure apache is running (and enable it at boot)
    service: name=httpd state=started enabled=yes
  handlers:
    - name: restart apache
      service: name=httpd state=restarted
            </code></pre>
        </section>
        <section>
            <h1>Dockerfile</h1>
            <pre><code data-noescape>
<mark>FROM</mark> java:8

ADD spring-petclinic /app

ENV M2_HOME /app
EXPOSE 8080
WORKDIR /app

RUN chmod a+x /app/mvnw
RUN ls /app/mvnw
RUN /bin/bash -c '/app/mvnw -e clean install spring-boot:repackage -DskipTests'

CMD /app/mvnw -e spring-boot:run -DskipTests
            </code></pre>
            <p><cite>From https://github.com/aestasit.</cite></p>
        </section>
       <section>
            <h1>Dockerfile</h1>
            <pre><code data-noescape>
FROM java:8

ADD spring-petclinic /app

ENV M2_HOME /app
EXPOSE 8080
WORKDIR /app

RUN chmod a+x /app/mvnw
RUN ls /app/mvnw
RUN /bin/bash -c '/app/mvnw -e clean install spring-boot:repackage -DskipTests'

CMD /app/mvnw -e <mark>spring-boot:run</mark> -DskipTests
            </code></pre>
            <p><cite>From https://github.com/aestasit.</cite></p>
        </section>
       <section>
            <h1>Dockerfile</h1>
            <pre><code data-noescape>
FROM java:8

ADD spring-petclinic /app

ENV M2_HOME /app
EXPOSE 8080
WORKDIR /app

RUN chmod a+x /app/mvnw
RUN ls /app/mvnw
RUN /bin/bash -c '/app/mvnw -e clean install spring-boot:repackage -DskipTests'

CMD /app/mvnw -e spring-boot:run -DskipTests
            </code></pre>
            <p><cite>From https://github.com/aestasit.</cite></p>
            <pre><code>
docker run -d my_bootiful_petclinic
            </code></pre>
        </section>
        <section>
            <h1>Docker compose file</h1>
            <pre class="stretch"><code data-trim>
version: '2'
services:

  elasticsearch:
    build: elasticsearch/
    ...
    ports:
      - "9200:9200"
      - "9300:9300"

  logstash:
    build: logstash/
    ...
    ports:
      - "5000:5000"
    depends_on:
      - elasticsearch

  kibana:
    build: kibana/
    ...
    ports:
      - "5601:5601"
    depends_on:
      - elasticsearch
            </code></pre>
        </section>
        <section>
          <h1>Docker compose file</h1>
          <pre class="stretch"><code data-trim data-noescape>
version: '2'
services:

  <mark>elasticsearch</mark>:
    build: elasticsearch/
    ...
    ports:
      - "9200:9200"
      - "9300:9300"

  <mark>logstash</mark>:
    build: logstash/
    ...
    ports:
      - "5000:5000"
    depends_on:
      - elasticsearch

  <mark>kibana</mark>:
    build: kibana/
    ...
    ports:
      - "5601:5601"
    depends_on:
      - elasticsearch
            </code></pre>
        </section>
       <section>
          <h1>Docker compose file</h1>
          <pre class="stretch"><code data-trim data-noescape>
version: '2'
services:

  elasticsearch:
    build: elasticsearch/
    ...
    ports:
      - "9200:9200"
      - "9300:9300"

  logstash:
    build: logstash/
    ...
    ports:
      - "5000:5000"
    <mark>depends_on</mark>:
      <mark>- elasticsearch</mark>

  kibana:
    build: kibana/
    ...
    ports:
      - "5601:5601"
    <mark>depends_on</mark>:
      <mark>- elasticsearch</mark>
            </code></pre>
        </section>
        <section>
            <h1>Biz Dev Ops</h1>
            <img class="stretch" src="img/testNotPhase.png">
        </section>
        <section>
            <h1>What DevOps ?</h1>
            <br/>
            <h2 class="atLeft fragment shrink" data-fragment-index="1"><b>C</b>ULTURE</h2>
            <h2 class="fragment shrink" data-fragment-index="1"><b>M</b>EASUREMENT</h2>
            <h2 class="atLeft fragment grow" data-fragment-index="1"><b>A</b>UTOMATION</h2>
            <h2 class="fragment grow" data-fragment-index="2"><b>S</b>HARING</h2>
            <div class="fragment fade-in atLeft" data-fragment-index="1">
                <ul>
                    <li>TDD</li>
                    <li>* as Code</li>
                </ul>
            </div>
            <div class="atRight fragment fade-in" data-fragment-index="2">
                <ul>
                    <li>* as Code</li>
                </ul>
            </div>
        </section>
        <section>
            <h1>Questions ?</h1>
            <h2>Hello Slides As Code</h2>
            <pre><code data-trim>
<section>
    <h1>Titre</h1>
    <ul>
        <li>Item 1</li>
        <li>Item 2</li>
    </ul>
</section>
            </code></pre>
            <p>
                <a href="https://github.com/hrambelo/AgileLaval2017">https://github.com/hrambelo/AgileLaval2017</a>
            </p>
        </section>
        <section>
            <h1>Merci !</h1>
            <img class="stretch" src="img/merci-sponsor.png">
        </section>
        <section>













        <section>
            <p>dis autrement</p>
            <h1>Mon équipe souhaite livrer <br/>la <b>valeur métier</b> <br/>tous les <b>2h</b></h1>
        </section>
    </div>
    <div style="display: block;" class="progress"><span style="width: 109.118px;"></span></div>
    <footer style="background:rgba(219,120,39,1)" id="title-footer">
        <p class="atLeft"><b>#AgileTourRennes2017</b></p>
        <p class="atRight"><b>@gcollic - @hrambelo</b></p>
    </footer>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: false,
        // Loop the presentation
        loop: false,
        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,
        // Stop auto-sliding after user input
        autoSlideStoppable: true,
        transition: 'none', // none/fade/slide/convex/concave/zoom
        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>
